# Migration `20191228232635-company-non-null`

This migration has been generated by BjornLuG at 12/28/2019, 11:26:36 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Customer" DROP COLUMN "companyBelong",
ADD COLUMN "companyBelong" text  NOT NULL  REFERENCES "public"."Company"("id") ON DELETE RESTRICT;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20191223162638-job-code..20191228232635-company-non-null
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator photon {
   provider = "photonjs"
@@ -38,9 +38,9 @@
   name           String   @unique
   email          String?
   addresses      String[]
   phoneNumber    String?
-  companyBelong  Company?
+  companyBelong  Company
   temporary      Boolean  @default(false)
   active         Boolean  @default(true)
   staffPrimary   Staff    @relation("StaffPrimaryByCustomer")
   staffSecondary Staff?   @relation("StaffSecondaryByCustomer")
```


